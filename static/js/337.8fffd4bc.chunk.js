"use strict";(self.webpackChunkhome_delivery_center=self.webpackChunkhome_delivery_center||[]).push([[337],{1337:function(n,r,e){function t(n,r,e,t,i,a,s){try{var u=n[a](s),o=u.value}catch(c){return void e(c)}u.done?r(o):Promise.resolve(o).then(t,i)}e.r(r),e.d(r,{DepartureStatusPage:function(){return T}});var i,a,s,u=e(9439),o=e(4687),c=e.n(o),l=e(1087),m=e(8174),f=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:21;return crypto.getRandomValues(new Uint8Array(n)).reduce((function(n,r){return n+=(r&=63)<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r>62?"-":"_"}),"")},d=e(2791),h=e(5048),p=e(5675),v=e(3656),x=function(n){return n[v.AT.name].ttn},y=function(n){return n[p.V.reducerPath]},b=e(3329),j=function(n){var r=n.onSubmit,e=n.inputValue,t=n.onChange;return(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("form",{onSubmit:r,children:[(0,b.jsxs)("label",{children:["TTN number",(0,b.jsx)("input",{type:"text",placeholder:"59000509805747",value:e,onChange:t})]}),(0,b.jsx)("button",{type:"submit",children:"Get status TTN"})]})})},g=(0,d.memo)((function(){var n,r=(0,l.lr)(),e=function(n){var r;return{data:null===(r=(0,h.v9)(y).queries['getHistory("'.concat(n,'")')])||void 0===r?void 0:r.data}}(null!==(n=(0,u.Z)(r,1)[0].get("ttnNumber"))&&void 0!==n?n:"").data;return console.log("TtnInfo"),(0,b.jsx)(b.Fragment,{children:e?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("p",{children:["\u0421\u0442\u0430\u0442\u0443\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438: ",Array.isArray(e)&&e[0].Status]}),(0,b.jsxs)("p",{children:["\u0412\u0456\u0434\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e: ",Array.isArray(e)&&e[0].WarehouseSender]}),(0,b.jsxs)("p",{children:["\u041e\u0442\u0440\u0438\u043c\u0430\u043d\u043e: ",Array.isArray(e)&&e[0].WarehouseRecipient,":",Array.isArray(e)&&e[0].WarehouseRecipientAddress]})]}):(0,b.jsx)("p",{children:" \u0412\u0432\u0435\u0434\u0456\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u043e\u0457, \u0430\u0431\u043e \u0432\u0438\u0431\u0435\u0440\u0456\u0442\u044c \u0437\u0456 \u0441\u043f\u0438\u0441\u043a\u0443"})})})),A=function(n){var r=n.onhandleClick,e=(0,h.v9)(x),t=(0,p.v)(),i=(0,u.Z)(t,1)[0],a=(0,l.lr)(),s=(0,u.Z)(a,2)[1];return console.log("TtnsHistory-------"),(0,b.jsx)("ul",{children:e.map((function(n){var t=n.ttnNumber,a=n.id;return(0,b.jsx)("li",{onClick:function(){return function(n){var t=e.find((function(r){return r.id===n}));t&&(r(t.ttnNumber),i(t.ttnNumber),s({ttnNumber:t.ttnNumber}))}(a)},children:t},a)}))})},k=e(168),Z=e(6444),N=Z.ZP.div(i||(i=(0,k.Z)(["\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n"]))),w=Z.ZP.span(a||(a=(0,k.Z)(["\n  display: inline-block;\n  animation: myAnim 1s ease 0.5s infinite normal forwards;\n  font-size: 50px;\n\n  @keyframes myAnim {\n    0% {\n      transform: scale(0.5);\n    }\n    50% {\n      transform: scale(1);\n    }\n    100% {\n      transform: scale(0.5);\n    }\n  }\n"]))),C=Z.ZP.span(s||(s=(0,k.Z)(["\n  display: inline-block;\n  animation: myAnim 1s ease 0s infinite normal forwards;\n  font-size: 50px;\n\n  @keyframes myAnim {\n    0% {\n      transform: scale(1);\n    }\n    50% {\n      transform: scale(0.5);\n    }\n    100% {\n      transform: scale(1);\n    }\n  }\n"]))),S=function(){return(0,b.jsxs)(N,{children:[(0,b.jsx)(w,{children:"\ud83d\udc9b"}),(0,b.jsx)(C,{children:"\ud83d\udc99"})]})},T=function(){var n=(0,d.useState)(""),r=(0,u.Z)(n,2),e=r[0],i=r[1],a=(0,p.v)(),s=(0,u.Z)(a,2),o=s[0],y=s[1].isLoading,k=(0,l.lr)(),Z=(0,u.Z)(k,2)[1],N=(0,h.I0)(),w=(0,h.v9)(x),C=function(){var n,r=(n=c().mark((function n(r){var t;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.preventDefault(),/^([0-9]{14})$/.test(e)){n.next=5;break}return m.Am.warn("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0438\u0439 \u043d\u043e\u043c\u0435\u0440 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u043e\u0457"),n.abrupt("return");case 5:if(o(e),Z({ttnNumber:e}),!w.some((function(n){return n.ttnNumber===e}))){n.next=10;break}return n.abrupt("return");case 10:t={id:f(),ttnNumber:e},N((0,v.ov)(t));case 12:case"end":return n.stop()}}),n)})),function(){var r=this,e=arguments;return new Promise((function(i,a){var s=n.apply(r,e);function u(n){t(s,i,a,u,o,"next",n)}function o(n){t(s,i,a,u,o,"throw",n)}u(void 0)}))});return function(n){return r.apply(this,arguments)}}();return(0,b.jsxs)(b.Fragment,{children:[y&&(0,b.jsx)(S,{}),(0,b.jsx)(j,{onSubmit:C,inputValue:e,onChange:function(n){var r=n.currentTarget.value;i(r.trim())}}),(0,b.jsx)(g,{}),(0,b.jsx)(A,{onhandleClick:i})]})}}}]);
//# sourceMappingURL=337.8fffd4bc.chunk.js.map